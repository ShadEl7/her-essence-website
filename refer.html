<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Refer a Friend ‚Äì Her Essence Restored</title>
  <style>
    body { background: #fff8fa; color: #a06a7b; font-family: 'Times New Roman', Times, serif; }
    .refer-container { max-width: 600px; margin: 2rem auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 12px rgba(160,106,123,0.07); padding: 2rem; }
    .refer-title { font-size: 2rem; margin-bottom: 1rem; }
    .refer-steps { margin: 1.5rem 0; }
    .refer-steps li { margin-bottom: 1rem; }
    .referral-actions { display: flex; flex-wrap: wrap; gap: 0.5rem; align-items: center; margin-bottom: 1rem; }
    .referral-link-input { flex: 1 1 200px; padding: 0.5rem; border: 1px solid #e3c6ce; border-radius: 5px; font-size: 1rem; background: #fff8fa; color: #a06a7b; }
    .referral-btn { background: #a06a7b; color: #fff8fa; border: none; border-radius: 5px; padding: 0.7rem 1.5rem; cursor: pointer; font-size: 1.1rem; transition: background 0.2s, color 0.2s; }
    .referral-btn:hover, .referral-btn:focus { background: #d6aeb7; color: #a06a7b; outline: none; }
    .referral-msg { margin-left: 1rem; color: #4caf50; font-size: 0.98rem; display: none; }
    .refer-how { background: #fff8fa; border-left: 4px solid #a06a7b; padding: 1rem; margin-bottom: 1.5rem; border-radius: 8px; }
    .refer-faq { margin-top: 2rem; }
    .refer-faq h3 { font-size: 1.2rem; margin-bottom: 0.5rem; color: #a06a7b; }
    .refer-faq dt { font-weight: bold; margin-top: 1rem; }
    .refer-faq dd { margin-left: 1rem; margin-bottom: 0.5rem; }
    .refer-terms { margin-top: 2rem; font-size: 0.95rem; color: #555; }
    .refer-social { margin: 1.5rem 0; display: flex; gap: 0.7rem; }
    .refer-social-btn {
      background: #fff;
      border: none;
      border-radius: 50%;
      width: 44px;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(160,106,123,0.10);
      font-size: 1.6rem;
      cursor: pointer;
      transition: box-shadow 0.2s, transform 0.2s;
      position: relative;
      overflow: hidden;
    }
    .refer-social-btn:hover, .refer-social-btn:focus {
      box-shadow: 0 4px 16px rgba(160,106,123,0.18);
      transform: translateY(-2px) scale(1.08);
      outline: none;
    }
    .refer-social-btn svg {
      width: 24px;
      height: 24px;
      display: block;
    }
    .refer-testimonial { background: #f9e6ee; border-radius: 8px; padding: 1rem; margin-top: 2rem; font-style: italic; color: #7d4e5b; }
    @media (max-width: 600px) {
      .refer-container { padding: 1rem; }
      .referral-actions { flex-direction: column; align-items: stretch; gap: 0.5rem; }
      .referral-msg { margin-left: 0; margin-top: 0.5rem; }
      .refer-social { justify-content: flex-start; }
    }
  </style>
</head>
<body>
  <div class="refer-container">
    <div class="refer-title">üëØ Refer a Friend &amp; Get R100 Off!</div>

    <div class="refer-how">
      <strong>How it works:</strong>
      <ol style="margin:0.7rem 0 0 1.2rem;">
        <li>Share your unique referral link below with friends.</li>
        <li>When your friend makes their first purchase, you both get R100 off.</li>
        <li>The more friends you refer, the more you save!</li>
      </ol>
    </div>

    <div class="referral-actions">
      <input id="referral-link" class="referral-link-input" type="text" value="" readonly aria-label="Your referral link" />
      <button class="referral-btn" onclick="copyReferral()" aria-label="Copy referral link">Copy Link</button>
      <button class="referral-btn" onclick="shareReferral()" aria-label="Share referral link">Share My Link</button>
      <span id="referral-msg" class="referral-msg">Copied!</span>
    </div>

    <div class="refer-social">
      <button class="refer-social-btn" title="Share on WhatsApp" onclick="shareWhatsApp()" aria-label="Share on WhatsApp">
        <!-- WhatsApp SVG -->
        <svg viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="16" fill="#25D366"/><path d="M23.5 19.5c-.3-.2-1.7-.8-2-1s-.5-.2-.7.1c-.2.3-.8 1-1 1.2-.2.2-.4.2-.7.1-.3-.2-1.2-.4-2.3-1.3-.9-.8-1.5-1.7-1.7-2-.2-.3 0-.5.1-.7.1-.1.2-.3.3-.5.1-.2.1-.4 0-.6-.1-.2-.7-1.7-1-2.3-.2-.5-.5-.5-.7-.5h-.6c-.2 0-.5.1-.7.3-.2.2-.7.7-.7 1.7 0 1 .7 2 1 2.4.3.4 1.4 2.2 3.4 3.1 2 .9 2.4.7 2.8.7.4 0 1.4-.6 1.6-1.2.2-.6.2-1.1.1-1.2z" fill="#fff"/></svg>
      </button>
      <button class="refer-social-btn" title="Share on Facebook" onclick="shareFacebook()" aria-label="Share on Facebook">
        <!-- Facebook SVG -->
        <svg viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="16" fill="#1877F3"/><path d="M18.7 25v-7h2.3l.3-2.7h-2.6v-1.5c0-.7.2-1.1 1.1-1.1h1.5V10c-.3 0-1.1-.1-2.1-.1-2.1 0-3.1 1.1-3.1 3.1v1.7h-2v2.7h2v7h2.6z" fill="#fff"/></svg>
      </button>
      <button class="refer-social-btn" title="Share on X" onclick="shareTwitter()" aria-label="Share on X">
        <!-- X (Twitter) SVG -->
        <svg viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="16" fill="#000"/><path d="M22.7 10.5h-1.7l-3.1 3.7-3.1-3.7h-1.7l4 4.7-4.2 5h1.7l3.3-3.9 3.3 3.9h1.7l-4.2-5 4-4.7z" fill="#fff"/></svg>
      </button>
      <button class="refer-social-btn" title="Share by Email" onclick="shareEmail()" aria-label="Share by Email">
        <!-- Email SVG -->
        <svg viewBox="0 0 32 32" fill="none"><circle cx="16" cy="16" r="16" fill="#a06a7b"/><path d="M8 12v8h16v-8H8zm8 5.5L10.5 14l-.7.7L16 19l6.2-4.3-.7-.7L16 17.5z" fill="#fff"/></svg>
      </button>
    </div>

    <div class="refer-testimonial">
      ‚ÄúI invited two friends and we all got R100 off our first order! Super easy and fun.‚Äù<br>
      <span style="font-size:0.95rem;color:#a06a7b;">‚Äì Thandi, Cape Town</span>
    </div>

    <dl class="refer-faq">
      <h3>Referral Program FAQ</h3>
      <dt>How do I get my reward?</dt>
      <dd>Once your friend completes their first purchase, you‚Äôll receive an email with your R100 discount code.</dd>
      <dt>When will my friend get their discount?</dt>
      <dd>Your friend will get their R100 off instantly on their first order using your link.</dd>
      <dt>Is there a limit to how many friends I can refer?</dt>
      <dd>Nope! Refer as many friends as you like and keep saving.</dd>
    </dl>

    <div class="refer-terms">
      By participating, you agree to our <a href="referral-terms.html" target="_blank">Referral Program Terms &amp; Conditions</a>.
      <br>
      Questions? <a href="contact.html">Contact us</a>.
    </div>
  </div>
  <script>
    // Replace 'yourname' with dynamic user info if available
    const referralUrl = window.location.origin + '/?ref=yourname';
    document.getElementById('referral-link').value = referralUrl;

    function copyReferral() {
      const input = document.getElementById('referral-link');
      input.select();
      input.setSelectionRange(0, 99999); // For mobile devices
      document.execCommand('copy');
      showReferralMsg('Copied!');
    }

    function shareReferral() {
      const url = document.getElementById('referral-link').value;
      if (navigator.share) {
        navigator.share({
          title: 'Her Essence Restored Referral',
          text: 'Join me at Her Essence Restored and get R100 off!',
          url
        }).catch(() => {
          // fallback if user cancels share
        });
      } else {
        copyReferral();
        showReferralMsg('Link copied! Paste it anywhere to share.');
      }
    }

    function showReferralMsg(msg) {
      const msgSpan = document.getElementById('referral-msg');
      msgSpan.textContent = msg;
      msgSpan.style.display = 'inline';
      setTimeout(() => { msgSpan.style.display = 'none'; }, 1800);
    }

    function shareWhatsApp() {
      const url = encodeURIComponent(document.getElementById('referral-link').value);
      const text = encodeURIComponent("Join me at Her Essence Restored and get R100 off! " + document.getElementById('referral-link').value);
      window.open(`https://wa.me/?text=${text}`, '_blank');
    }

    function shareFacebook() {
      const url = encodeURIComponent(document.getElementById('referral-link').value);
      window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
    }

    function shareTwitter() {
      const url = encodeURIComponent(document.getElementById('referral-link').value);
      const text = encodeURIComponent("Join me at Her Essence Restored and get R100 off!");
      window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
    }

    function shareEmail() {
      const subject = encodeURIComponent("Get R100 off at Her Essence Restored!");
      const body = encodeURIComponent("Hi! Join me at Her Essence Restored and get R100 off your first order: " + document.getElementById('referral-link').value);
      window.open(`mailto:?subject=${subject}&body=${body}`);
    }
  </script>
</body>
</html>